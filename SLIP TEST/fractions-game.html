<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fractions Matching Game - ‡∞≠‡∞ø‡∞®‡±ç‡∞®‡∞æ‡∞≤‡±Å ‡∞Ü‡∞ü</title>
    <!-- Anek Telugu Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anek+Telugu:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            background: #0a192f; /* Navy blue */
            font-family: 'Segoe UI', 'Anek Telugu', sans-serif;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            width: 100%;
            background: white;
            border-radius: 50px;
            padding: 30px;
            box-shadow: 0 30px 60px rgba(0,0,0,0.4);
            border-bottom: 8px solid #87CEEB;
        }
        h1 {
            text-align: center;
            color: #0a192f;
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 800;
        }
        .subtitle {
            text-align: center;
            color: #87CEEB;
            font-size: 1.3rem;
            margin-bottom: 20px;
            font-weight: 600;
        }
        
        /* Student Name Section */
        .student-section {
            background: #e6f3ff;
            padding: 20px;
            border-radius: 30px;
            margin-bottom: 25px;
            border: 3px solid #0a192f;
        }
        .student-label {
            color: #0a192f;
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        .student-input {
            width: 100%;
            padding: 15px 20px;
            font-size: 1.2rem;
            border: 3px solid #87CEEB;
            border-radius: 40px;
            outline: none;
            font-family: 'Anek Telugu', sans-serif;
        }
        .student-input:focus {
            border-color: #0a192f;
        }
        
        /* Stats Bar */
        .stats-bar {
            background: #e6f3ff;
            padding: 15px 25px;
            border-radius: 40px;
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            border: 3px solid #0a192f;
        }
        .progress-text {
            font-size: 1.2rem;
            font-weight: bold;
            color: #0a192f;
        }
        .progress-text span {
            background: #87CEEB;
            color: #0a192f;
            padding: 5px 15px;
            border-radius: 30px;
            margin-left: 8px;
            font-weight: 800;
        }
        .score-badge {
            background: #0a192f;
            color: white;
            padding: 8px 20px;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: bold;
        }
        
        /* Game Area */
        .game-container {
            background: #f8faff;
            border-radius: 40px;
            padding: 25px;
            margin-bottom: 25px;
            border: 2px dashed #87CEEB;
        }
        
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }
        .page-title {
            color: #0a192f;
            font-size: 1.5rem;
            font-weight: 700;
        }
        .page-indicator {
            background: #0a192f;
            color: white;
            padding: 10px 25px;
            border-radius: 40px;
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        /* Matching Grid */
        .match-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 20px;
        }
        
        .fractions-column, .pictures-column {
            background: white;
            border-radius: 30px;
            padding: 20px;
            border: 3px solid #0a192f;
        }
        
        .column-header {
            text-align: center;
            color: #0a192f;
            font-size: 1.3rem;
            font-weight: 700;
            padding-bottom: 15px;
            border-bottom: 3px solid #87CEEB;
            margin-bottom: 20px;
        }
        
        .fractions-items, .pictures-items {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .fraction-card {
            background: #e6f3ff;
            border: 3px solid #87CEEB;
            border-radius: 30px;
            padding: 20px;
            font-size: 2rem;
            font-weight: 800;
            color: #0a192f;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
            box-shadow: 0 5px 10px rgba(0,0,0,0.1);
        }
        .fraction-card:hover {
            background: #d4eaff;
            transform: scale(1.02);
            border-color: #0a192f;
        }
        .fraction-card.selected {
            background: #0a192f;
            color: white;
            border-color: #87CEEB;
        }
        .fraction-card.matched {
            background: #87CEEB;
            color: #0a192f;
            border-color: #0a192f;
            opacity: 0.7;
            cursor: not-allowed;
            pointer-events: none;
            text-decoration: line-through;
        }
        
        .picture-card {
            background: white;
            border: 3px solid #0a192f;
            border-radius: 30px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
            box-shadow: 0 5px 10px rgba(0,0,0,0.1);
        }
        .picture-card:hover {
            background: #f0f7ff;
            transform: scale(1.02);
            border-color: #87CEEB;
        }
        .picture-card.selected {
            background: #0a192f;
            border-color: #87CEEB;
        }
        .picture-card.matched {
            background: #87CEEB;
            border-color: #0a192f;
            opacity: 0.7;
            cursor: not-allowed;
            pointer-events: none;
        }
        
        /* SVG Circle Fraction Visuals */
        .fraction-visual {
            width: 120px;
            height: 120px;
            margin: 0 auto;
        }
        svg {
            width: 100%;
            height: 100%;
            filter: drop-shadow(0 5px 8px rgba(0,0,0,0.2));
        }
        
        /* Navigation Buttons */
        .nav-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        .nav-btn {
            background: #0a192f;
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 40px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            border-bottom: 4px solid #051020;
            transition: 0.2s;
        }
        .nav-btn:hover:not(:disabled) {
            background: #1a2f4a;
            transform: scale(0.98);
        }
        .nav-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }
        .reset-btn {
            background: #87CEEB;
            color: #0a192f;
            border: none;
            padding: 15px 40px;
            border-radius: 40px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            border-bottom: 4px solid #5fb0d6;
        }
        
        /* Match Status */
        .match-status {
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            border-radius: 30px;
            font-size: 1.2rem;
            font-weight: 600;
        }
        .success-message {
            background: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }
        .error-message {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #f5c6cb;
        }
        
        /* Completion Message */
        .completion-message {
            text-align: center;
            padding: 40px;
            background: #0a192f;
            color: white;
            border-radius: 40px;
            margin: 20px 0;
            font-size: 1.8rem;
            font-weight: bold;
            border: 5px solid #87CEEB;
        }
        
        .telugu-text {
            font-family: 'Anek Telugu', sans-serif;
        }
        
        @media (max-width: 768px) {
            .match-grid {
                grid-template-columns: 1fr;
            }
            .fraction-card, .picture-card {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
<div class="container">
	    <h1>‡∞ï‡∞Ç‡∞¶‡±Å‡∞≤‡∞æ‡∞™‡±Å‡∞∞‡∞Ç ‡∞¨‡∞°‡∞ø </h1>

    <h1>ü•ß ‡∞≠‡∞ø‡∞®‡±ç‡∞®‡∞æ‡∞≤‡±Å ‡∞Ü‡∞ü</h1>
    <div class="subtitle">Match Fractions with Pictures <br>
		‡∞≠‡∞ø‡∞®‡±ç‡∞®‡∞æ‡∞≤‡∞®‡±Å  ‡∞¶‡∞æ‡∞®‡∞ø ‡∞∏‡∞∞‡∞ø‡∞Ø‡±à‡∞® ‡∞¨‡±ä‡∞Æ‡±ç‡∞Æ ‡∞§‡±ã ‡∞ú‡∞∞‡∞™‡∞∞‡∞ö‡∞Ç‡∞°‡∞ø.<br>
		¬∑ 5 pages ¬∑ 25 questions</div>
    
    <!-- Student Name Section -->
    <div class="student-section">
        <div class="student-label">üë§ Student Name / ‡∞µ‡∞ø‡∞¶‡±ç‡∞Ø‡∞æ‡∞∞‡±ç‡∞•‡∞ø ‡∞™‡±á‡∞∞‡±Å</div>
        <input type="text" id="studentNameInput" class="student-input" placeholder="Enter your name..." autocomplete="off">
    </div>

    <!-- Stats Bar -->
    <div class="stats-bar">
        <div class="progress-text">
            üìä Page: <span id="pageIndicator">1/5</span>
        </div>
        <div class="score-badge" id="scoreDisplay">
            ‚úÖ 0/25 Matched
        </div>
    </div>

    <!-- Game Area -->
    <div id="gameArea" class="game-container">
        <!-- Dynamic content loaded by JavaScript -->
    </div>

    <!-- Navigation -->
    <div class="nav-buttons">
        <button class="nav-btn" id="prevBtn" onclick="changePage(-1)">‚¨Ö Previous</button>
        <button class="reset-btn" id="resetBtn" onclick="resetCurrentPage()">üîÑ Reset Page</button>
        <button class="nav-btn" id="nextBtn" onclick="changePage(1)">Next ‚û°</button>
    </div>

    <!-- Completion Message -->
    <div id="completionMessage" class="completion-message" style="display: none;"></div>
</div>

<script>
    // Fraction data with vector pictures (SVG paths)
    const fractionData = [
        // Page 1: Simple fractions
        { fraction: "1/2", telugu: "‡∞Ö‡∞∞‡±ç‡∞ß‡∞Ç", numerator: 1, denominator: 2 },
        { fraction: "1/4", telugu: "‡∞™‡∞æ‡∞µ‡±Å", numerator: 1, denominator: 4 },
        { fraction: "3/4", telugu: "‡∞Æ‡±Ç‡∞°‡±Å ‡∞™‡∞æ‡∞µ‡±Å‡∞≤‡±Å", numerator: 3, denominator: 4 },
        { fraction: "1/3", telugu: "‡∞Æ‡±Ç‡∞°‡∞µ ‡∞µ‡∞Ç‡∞§‡±Å", numerator: 1, denominator: 3 },
        { fraction: "2/3", telugu: "‡∞∞‡±Ü‡∞Ç‡∞°‡±Å ‡∞Æ‡±Ç‡∞°‡∞µ ‡∞µ‡∞Ç‡∞§‡±Å‡∞≤‡±Å", numerator: 2, denominator: 3 },
        
        // Page 2: More fractions
        { fraction: "2/5", telugu: "‡∞∞‡±Ü‡∞Ç‡∞°‡±Å ‡∞ê‡∞¶‡∞µ ‡∞µ‡∞Ç‡∞§‡±Å‡∞≤‡±Å", numerator: 2, denominator: 5 },
        { fraction: "3/5", telugu: "‡∞Æ‡±Ç‡∞°‡±Å ‡∞ê‡∞¶‡∞µ ‡∞µ‡∞Ç‡∞§‡±Å‡∞≤‡±Å", numerator: 3, denominator: 5 },
        { fraction: "4/5", telugu: "‡∞®‡∞æ‡∞≤‡±Å‡∞ó‡±Å ‡∞ê‡∞¶‡∞µ ‡∞µ‡∞Ç‡∞§‡±Å‡∞≤‡±Å", numerator: 4, denominator: 5 },
        { fraction: "1/6", telugu: "‡∞Ü‡∞∞‡∞µ ‡∞µ‡∞Ç‡∞§‡±Å", numerator: 1, denominator: 6 },
        { fraction: "5/6", telugu: "‡∞ê‡∞¶‡±Å ‡∞Ü‡∞∞‡∞µ ‡∞µ‡∞Ç‡∞§‡±Å‡∞≤‡±Å", numerator: 5, denominator: 6 },
        
        // Page 3: Eighths
        { fraction: "1/8", telugu: "‡∞é‡∞®‡∞ø‡∞Æ‡∞ø‡∞¶‡∞µ ‡∞µ‡∞Ç‡∞§‡±Å", numerator: 1, denominator: 8 },
        { fraction: "3/8", telugu: "‡∞Æ‡±Ç‡∞°‡±Å ‡∞é‡∞®‡∞ø‡∞Æ‡∞ø‡∞¶‡∞µ ‡∞µ‡∞Ç‡∞§‡±Å‡∞≤‡±Å", numerator: 3, denominator: 8 },
        { fraction: "5/8", telugu: "‡∞ê‡∞¶‡±Å ‡∞é‡∞®‡∞ø‡∞Æ‡∞ø‡∞¶‡∞µ ‡∞µ‡∞Ç‡∞§‡±Å‡∞≤‡±Å", numerator: 5, denominator: 8 },
        { fraction: "7/8", telugu: "‡∞è‡∞°‡±Å ‡∞é‡∞®‡∞ø‡∞Æ‡∞ø‡∞¶‡∞µ ‡∞µ‡∞Ç‡∞§‡±Å‡∞≤‡±Å", numerator: 7, denominator: 8 },
        { fraction: "2/8", telugu: "‡∞∞‡±Ü‡∞Ç‡∞°‡±Å ‡∞é‡∞®‡∞ø‡∞Æ‡∞ø‡∞¶‡∞µ ‡∞µ‡∞Ç‡∞§‡±Å‡∞≤‡±Å", numerator: 2, denominator: 8 },
        
        // Page 4: Ninths and tenths
        { fraction: "2/9", telugu: "‡∞∞‡±Ü‡∞Ç‡∞°‡±Å ‡∞§‡±ä‡∞Æ‡±ç‡∞Æ‡∞ø‡∞¶‡∞µ ‡∞µ‡∞Ç‡∞§‡±Å‡∞≤‡±Å", numerator: 2, denominator: 9 },
        { fraction: "4/9", telugu: "‡∞®‡∞æ‡∞≤‡±Å‡∞ó‡±Å ‡∞§‡±ä‡∞Æ‡±ç‡∞Æ‡∞ø‡∞¶‡∞µ ‡∞µ‡∞Ç‡∞§‡±Å‡∞≤‡±Å", numerator: 4, denominator: 9 },
        { fraction: "7/9", telugu: "‡∞è‡∞°‡±Å ‡∞§‡±ä‡∞Æ‡±ç‡∞Æ‡∞ø‡∞¶‡∞µ ‡∞µ‡∞Ç‡∞§‡±Å‡∞≤‡±Å", numerator: 7, denominator: 9 },
        { fraction: "3/10", telugu: "‡∞Æ‡±Ç‡∞°‡±Å ‡∞™‡∞¶‡∞µ ‡∞µ‡∞Ç‡∞§‡±Å‡∞≤‡±Å", numerator: 3, denominator: 10 },
        { fraction: "7/10", telugu: "‡∞è‡∞°‡±Å ‡∞™‡∞¶‡∞µ ‡∞µ‡∞Ç‡∞§‡±Å‡∞≤‡±Å", numerator: 7, denominator: 10 },
        
        // Page 5: Mixed and review
        { fraction: "2/6", telugu: "‡∞∞‡±Ü‡∞Ç‡∞°‡±Å ‡∞Ü‡∞∞‡∞µ ‡∞µ‡∞Ç‡∞§‡±Å‡∞≤‡±Å", numerator: 2, denominator: 6 },
        { fraction: "4/6", telugu: "‡∞®‡∞æ‡∞≤‡±Å‡∞ó‡±Å ‡∞Ü‡∞∞‡∞µ ‡∞µ‡∞Ç‡∞§‡±Å‡∞≤‡±Å", numerator: 4, denominator: 6 },
        { fraction: "3/7", telugu: "‡∞Æ‡±Ç‡∞°‡±Å ‡∞è‡∞°‡∞µ ‡∞µ‡∞Ç‡∞§‡±Å‡∞≤‡±Å", numerator: 3, denominator: 7 },
        { fraction: "5/7", telugu: "‡∞ê‡∞¶‡±Å ‡∞è‡∞°‡∞µ ‡∞µ‡∞Ç‡∞§‡±Å‡∞≤‡±Å", numerator: 5, denominator: 7 },
        { fraction: "2/4", telugu: "‡∞∏‡∞ó‡∞Ç (‡∞∞‡±Ü‡∞Ç‡∞°‡±Å ‡∞®‡∞æ‡∞≤‡±Å‡∞ó‡∞µ ‡∞µ‡∞Ç‡∞§‡±Å‡∞≤‡±Å)", numerator: 2, denominator: 4 }
    ];

    // Game state
    let currentPage = 0;
    const wordsPerPage = 5;
    const totalPages = 5;
    
    // Track matches for each page
    let pageMatches = {};
    let selectedFraction = null;
    let selectedPicture = null;
    let messageTimeout = null;

    // Initialize page matches
    function initializePageMatches() {
        for (let i = 0; i < totalPages; i++) {
            if (!pageMatches[i]) {
                pageMatches[i] = new Array(wordsPerPage).fill(false);
            }
        }
    }

    // Get student name
    function getStudentName() {
        const nameInput = document.getElementById('studentNameInput');
        return nameInput.value.trim() || 'Student';
    }

    // Generate SVG for fraction
    function generateFractionSVG(numerator, denominator) {
        const angle = (2 * Math.PI) / denominator;
        const startAngle = -Math.PI / 2; // Start from top
        
        let paths = [];
        for (let i = 0; i < numerator; i++) {
            const start = startAngle + i * angle;
            const end = startAngle + (i + 1) * angle;
            
            const x1 = 50 + 40 * Math.cos(start);
            const y1 = 50 + 40 * Math.sin(start);
            const x2 = 50 + 40 * Math.cos(end);
            const y2 = 50 + 40 * Math.sin(end);
            
            const largeArc = angle > Math.PI ? 1 : 0;
            
            paths.push(`
                <path d="M50,50 L${x1},${y1} A40,40 0 ${largeArc},1 ${x2},${y2} Z" 
                      fill="#e17055" opacity="0.8" stroke="#0a192f" stroke-width="2"/>
            `);
        }
        
        return `
            <svg viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="40" fill="#ffeaa7" stroke="#0a192f" stroke-width="3"/>
                ${paths.join('')}
                <text x="50" y="95" text-anchor="middle" fill="#0a192f" font-size="8" font-weight="bold">${numerator}/${denominator}</text>
            </svg>
        `;
    }

    // Shuffle array for random order
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    // Get current page fractions
    function getCurrentPageFractions() {
        const start = currentPage * wordsPerPage;
        const end = start + wordsPerPage;
        return fractionData.slice(start, end);
    }

    // Calculate total matches
    function getTotalMatches() {
        return Object.values(pageMatches).flat().filter(Boolean).length;
    }

    // Check if game is complete
    function checkGameComplete() {
        const totalMatches = getTotalMatches();
        if (totalMatches === fractionData.length) {
            const studentName = getStudentName();
            document.getElementById('completionMessage').style.display = 'block';
            document.getElementById('completionMessage').innerHTML = `
                üéâ ‡∞Ö‡∞¶‡±ç‡∞≠‡±Å‡∞§‡∞Ç ${studentName}! ‡∞Æ‡±Ä‡∞∞‡±Å ‡∞Ö‡∞®‡±ç‡∞®‡∞ø ‡∞≠‡∞ø‡∞®‡±ç‡∞®‡∞æ‡∞≤‡±Å ‡∞∏‡∞∞‡∞ø‡∞™‡±ã‡∞≤‡±ç‡∞ö‡∞æ‡∞∞‡±Å!<br>
                üéâ Amazing ${studentName}! You matched all fractions!
            `;
        }
    }

    // Render current page
    function renderPage() {
        const gameArea = document.getElementById('gameArea');
        const pageFractions = getCurrentPageFractions();
        const matches = pageMatches[currentPage] || new Array(wordsPerPage).fill(false);
        
        // Create shuffled pictures for this page
        const pictureIndices = [...Array(wordsPerPage).keys()];
        const shuffledPictures = shuffleArray([...pictureIndices]);
        
        // Calculate total matches
        const totalMatches = getTotalMatches();
        document.getElementById('scoreDisplay').innerHTML = `‚úÖ ${totalMatches}/${fractionData.length} Matched`;
        document.getElementById('pageIndicator').innerHTML = `${currentPage + 1}/${totalPages}`;
        
        // Enable/disable navigation buttons
        document.getElementById('prevBtn').disabled = currentPage === 0;
        document.getElementById('nextBtn').disabled = currentPage === totalPages - 1;
        
        // Generate HTML
        let html = `
            <div class="page-header">
                <div class="page-title">üìñ ‡∞™‡±á‡∞ú‡±Ä ${currentPage + 1}</div>
                <div class="page-indicator">${currentPage * wordsPerPage + 1} - ${Math.min((currentPage + 1) * wordsPerPage, fractionData.length)} of ${fractionData.length}</div>
            </div>
            <div class="match-grid">
                <div class="fractions-column">
                    <div class="column-header">üîµ FRACTIONS / ‡∞≠‡∞ø‡∞®‡±ç‡∞®‡∞æ‡∞≤‡±Å</div>
                    <div class="fractions-items">
        `;
        
        // Fraction cards
        pageFractions.forEach((fraction, index) => {
            const matched = matches[index];
            const selectedClass = selectedFraction === index ? 'selected' : '';
            html += `
                <div class="fraction-card ${matched ? 'matched' : ''} ${selectedClass}" 
                     onclick="selectFraction(${index})">
                    ${fraction.fraction}<br>
                    <span style="font-size: 1rem; font-family: 'Anek Telugu';">${fraction.telugu}</span>
                </div>
            `;
        });
        
        html += `
                    </div>
                </div>
                <div class="pictures-column">
                    <div class="column-header">üü† PICTURES / ‡∞ö‡∞ø‡∞§‡±ç‡∞∞‡∞æ‡∞≤‡±Å</div>
                    <div class="pictures-items">
        `;
        
        // Picture cards (shuffled)
        shuffledPictures.forEach((picIndex, displayIndex) => {
            const fraction = pageFractions[picIndex];
            const isMatched = matches[picIndex];
            const selectedClass = selectedPicture === picIndex ? 'selected' : '';
            
            html += `
                <div class="picture-card ${isMatched ? 'matched' : ''} ${selectedClass}" 
                     onclick="selectPicture(${picIndex})">
                    <div class="fraction-visual">
                        ${generateFractionSVG(fraction.numerator, fraction.denominator)}
                    </div>
                </div>
            `;
        });
        
        html += `
                    </div>
                </div>
            </div>
            <div id="matchMessage" class="match-status"></div>
        `;
        
        gameArea.innerHTML = html;
    }

    // Select fraction
    window.selectFraction = function(index) {
        const matches = pageMatches[currentPage] || new Array(wordsPerPage).fill(false);
        if (matches[index]) return; // Already matched
        
        selectedFraction = index;
        selectedPicture = null;
        renderPage();
        showMessage('', '');
    };

    // Select picture
    window.selectPicture = function(index) {
        const matches = pageMatches[currentPage] || new Array(wordsPerPage).fill(false);
        if (matches[index]) return; // Already matched
        
        if (selectedFraction === null) {
            showMessage('‡∞Æ‡±ä‡∞¶‡∞ü ‡∞≠‡∞ø‡∞®‡±ç‡∞®‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø! First select a fraction!', 'error');
            return;
        }
        
        selectedPicture = index;
        
        // Check if match is correct
        if (selectedFraction === index) {
            // Correct match
            matches[selectedFraction] = true;
            pageMatches[currentPage] = matches;
            showMessage('‚úÖ ‡∞∏‡∞∞‡±à‡∞® ‡∞ú‡±ã‡∞°‡±Ä! Correct match!', 'success');
            selectedFraction = null;
            selectedPicture = null;
            
            // Check if game is complete
            checkGameComplete();
        } else {
            // Wrong match
            showMessage('‚ùå ‡∞§‡∞™‡±ç‡∞™‡±Å ‡∞ú‡±ã‡∞°‡±Ä! Wrong match! Try again.', 'error');
            selectedPicture = null;
        }
        
        renderPage();
    };

    // Show message
    function showMessage(text, type) {
        const messageDiv = document.getElementById('matchMessage');
        if (!messageDiv) return;
        
        messageDiv.textContent = text;
        messageDiv.className = `match-status ${type}-message`;
        
        // Clear previous timeout
        if (messageTimeout) {
            clearTimeout(messageTimeout);
        }
        
        // Clear message after 2 seconds
        if (text) {
            messageTimeout = setTimeout(() => {
                messageDiv.textContent = '';
                messageDiv.className = 'match-status';
            }, 2000);
        }
    }

    // Change page
    window.changePage = function(direction) {
        const newPage = currentPage + direction;
        if (newPage >= 0 && newPage < totalPages) {
            currentPage = newPage;
            selectedFraction = null;
            selectedPicture = null;
            renderPage();
        }
    };

    // Reset current page
    window.resetCurrentPage = function() {
        if (confirm('‡∞à ‡∞™‡±á‡∞ú‡±Ä‡∞≤‡±ã ‡∞Ö‡∞®‡±ç‡∞®‡∞ø ‡∞ú‡±ã‡∞°‡±Ä‡∞≤‡∞®‡±Å ‡∞∞‡±Ä‡∞∏‡±Ü‡∞ü‡±ç ‡∞ö‡±á‡∞Ø‡∞æ‡∞≤‡∞æ? Reset all matches on this page?')) {
            pageMatches[currentPage] = new Array(wordsPerPage).fill(false);
            selectedFraction = null;
            selectedPicture = null;
            renderPage();
        }
    };

    // Initialize
    initializePageMatches();
    renderPage();
</script>
</body>
</html>